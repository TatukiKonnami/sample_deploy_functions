name: deploy to TEST
on: 
 pull_request:
    branches:
      - develop

jobs:
  build: 
    runs-on: ubuntu-latest
    strategy:
      matrix: 
        node-version: [14.15.3]
        max-parallel: 1
    steps:
      - name: Use Node.js ${{ matrix.node-version }} 
        uses: actions/checkout@v2
        with:
          node-version: ${{ matrix.node-version }}
      - name: install pytest
        run: | 
          python -m pip install --upgrade pip
          pip install pytest
          pip install pylint
      - name: Analysing the code with pylint
        run: |
          pylint `ls -R|grep .py$|xargs`
      - name: Unit test 
        run: |
          pytest src/main.py

